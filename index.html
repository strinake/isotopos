<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Isótopos Guadaíra - Liga de Fútbol Sala - Estadísticas y clasificación">
    <title>Isótopos Guadaíra</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <img src="escudo.png" alt="Escudo Isótopos Guadaíra" class="logo-icon"
                    style="width: 50px; height: 50px;">
                <h1>Isótopos Guadaíra</h1>
            </div>
            <nav>
                <ul id="nav-menu">
                    <li><button id="btn-clasificacion" class="nav-btn active">Clasificación</button></li>
                    <li><button id="btn-goleadores" class="nav-btn">Goleadores</button></li>
                    <li><button id="btn-mvp" class="nav-btn">Puntos MVP</button></li>
                    <li><button id="btn-resultados" class="nav-btn">Resultados por Jornada</button></li>
                    <li><button id="btn-proximos" class="nav-btn">Próximos Partidos</button></li>
                    <li><button id="btn-admin" class="nav-btn">Administración</button></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <!-- Clasificación Section (Default) -->
        <section id="section-clasificacion" class="section active">
            <div class="section-header">
                <h2>Clasificación</h2>
                <p>Tabla de posiciones actualizada</p>
            </div>
            <div class="card">
                <div class="table-container">
                    <table id="table-clasificacion">
                        <thead>
                            <tr>
                                <th class="center">Pos</th>
                                <th>Equipo</th>
                                <th class="center">PJ</th>
                                <th class="center">G</th>
                                <th class="center">E</th>
                                <th class="center">P</th>
                                <th class="center">GF</th>
                                <th class="center">GC</th>
                                <th class="center">DG</th>
                                <th class="center">Pts</th>
                            </tr>
                        </thead>
                        <tbody id="tbody-clasificacion">
                            <tr>
                                <td colspan="10" class="loading">
                                    <div class="loading-spinner"></div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Goleadores Section -->
        <section id="section-goleadores" class="section">
            <div class="section-header">
                <h2>Goleadores</h2>
                <p>Máximos goleadores de la liga</p>
            </div>
            <div class="card">
                <div class="player-list" id="list-goleadores">
                    <div class="loading">
                        <div class="loading-spinner"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MVP Section -->
        <section id="section-mvp" class="section">
            <div class="section-header">
                <h2>Puntos MVP</h2>
                <p>Ranking de jugadores más valiosos</p>
            </div>
            <div class="card">
                <div class="player-list" id="list-mvp">
                    <div class="loading">
                        <div class="loading-spinner"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Resultados Section -->
        <section id="section-resultados" class="section">
            <div class="section-header">
                <h2>Resultados por Jornada</h2>
                <p>Resultados por jornada</p>
            </div>
            <div id="container-resultados">
                <div class="loading">
                    <div class="loading-spinner"></div>
                </div>
            </div>
        </section>

        <!-- Próximos Partidos Section -->
        <section id="section-proximos" class="section">
            <div class="section-header">
                <h2>Próximos Partidos</h2>
                <p>Calendario de las próximas jornadas</p>
            </div>
            <div id="container-proximos">
                <div class="loading">
                    <div class="loading-spinner"></div>
                </div>
            </div>
        </section>
        <section id="section-admin" class="section">
            <div class="section-header">
                <h2>Administración</h2>
                <p>Gestionar datos de la web</p>
            </div>

            <!-- LOGIN SECTION -->
            <div id="admin-login" class="admin-login-container">
                <div class="card login-card">
                    <h3>Acceso Restringido</h3>
                    <div class="form-group">
                        <label>Usuario</label>
                        <input type="text" id="login-user" placeholder="Usuario">
                    </div>
                    <div class="form-group">
                        <label>Contraseña</label>
                        <input type="password" id="login-pass" placeholder="Contraseña">
                    </div>
                    <button class="action-btn full-width" onclick="checkAdminLogin()">Entrar</button>
                    <p id="login-error" class="error-text" style="display:none;">Credenciales incorrectas</p>
                </div>
            </div>

            <!-- PROTECTED ADMIN CONTENT -->
            <div id="admin-panel" style="display: none;">

                <!-- Admin Sub-Navigation -->
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="switchAdminTab('matches')">Partidos</button>
                    <button class="admin-tab" onclick="switchAdminTab('scorers')">Goleadores</button>
                    <button class="admin-tab" onclick="switchAdminTab('mvp')">MVP</button>
                </div>

                <!-- ADMIN: MATCHES -->
                <div id="admin-matches" class="admin-section active">
                    <div class="admin-controls card">
                        <div class="control-group">
                            <label for="admin-jornada-select">Jornada:</label>
                            <select id="admin-jornada-select">
                                <option value="">Cargando...</option>
                            </select>
                        </div>
                        <button id="btn-add-match" class="action-btn">➕ Añadir Partido</button>
                    </div>

                    <div id="container-admin">
                        <div class="loading">
                            <div class="loading-spinner"></div>
                        </div>
                    </div>
                </div>

                <!-- ADMIN: SCORERS -->
                <div id="admin-scorers" class="admin-section" style="display: none;">
                    <div class="admin-controls card">
                        <h3>Goleadores</h3>
                        <button id="btn-add-scorer" class="action-btn" onclick="addNewScorer()">➕ Añadir
                            Goleador</button>
                    </div>
                    <div id="container-admin-scorers">
                        <div class="loading">
                            <div class="loading-spinner"></div>
                        </div>
                    </div>
                </div>

                <!-- ADMIN: MVP -->
                <div id="admin-mvp" class="admin-section" style="display: none;">
                    <div class="admin-controls card">
                        <h3>Puntos MVP</h3>
                        <button id="btn-add-mvp" class="action-btn" onclick="addNewMVP()">➕ Añadir MVP</button>
                    </div>
                    <div id="container-admin-mvp">
                        <div class="loading">
                            <div class="loading-spinner"></div>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </main>

    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>

</html>